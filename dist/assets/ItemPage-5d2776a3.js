import{u as o,r as x,j as e,U as h,s as k,b as d,f,A as u,a as N,l as b,Q as j,c as v,d as y,i as L,e as z,g as _,N as q}from"./index-92121e7b.js";import{u as S}from"./useTypedSelector-9a2982f6.js";import{S as m}from"./SkeletonCard-1b2c0a4c.js";const D=({data:s})=>{const{t:r}=o("locker"),{items:i}=S(a=>a.likes),[c,l]=x.useState(i.some(a=>a===s.item.id)),[n,t]=x.useState(!1),p=()=>setTimeout(()=>t(!0),100),g=async()=>{b("Shop",c?"Liked":"Unliked",`${s.item.name}(${s.item.id})`),c?(l(!1),j.error(r("unlike_item",{name:s.item.name}))):(l(!0),j.success(r("like_item",{name:s.item.name})))};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"fntracker-qzap55",children:r("card_title").toUpperCase()}),e.jsxs("div",{className:"fntracker-kqjz63",children:[e.jsx("div",{className:"fntracker-bqb14f",children:e.jsx("div",{className:"fntracker-egel16",children:e.jsx(h,{classDialog:k.zoom,children:e.jsx(d.LazyLoadImage,{src:f(s==null?void 0:s.item.images.background,500),alt:s.item.id,className:`object-cover w-full rounded-lg ${!n&&"animate-pulse blur-sm bg-gray-600 transition-all"}`,onLoad:p,loading:"eager",decoding:"async"})})})}),e.jsxs("div",{className:"fntracker-c9rfqe",children:[e.jsxs("h5",{className:"fntracker-41edt4",children:[s==null?void 0:s.item.name,e.jsx("div",{className:"fntracker-5wao8o",onClick:g,children:c?e.jsx(u,{}):e.jsx(N,{})})]}),e.jsxs("p",{className:"text-md",children:[s==null?void 0:s.item.rarity.name," | ",s==null?void 0:s.item.type.name]}),e.jsx("p",{className:"text-md",children:s==null?void 0:s.item.description}),e.jsx("p",{className:"fntracker-iyw1ix",children:Math.floor(100*s.item.interest)+" "+r("card_interested")}),e.jsx("div",{className:"fntracker-i18d61",children:s!=null&&s.item.battlepass?e.jsxs("h4",{className:"fntracker-4oaq3e",children:[" ",r("card_bp")+s.item.battlepass.displayText.chapterSeason.toLowerCase(),"."]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:r("card_appeared")+" "+new Date(s==null?void 0:s.item.releaseDate).toLocaleDateString()}),e.jsxs("h4",{className:"fntracker-0eouc3",children:[r("card_sold")+" "+(s==null?void 0:s.item.price)," V-bucks."]})]})})]})]})]})},I=({data:s})=>{const{t:r}=o("locker");return e.jsxs("div",{className:"fntracker-3su9x3",children:[e.jsx("h1",{className:"fntracker-gm3hie",children:r("table_title").toUpperCase()}),e.jsx("div",{className:"fntracker-kqjz63",children:e.jsxs("table",{className:"fntracker-wkc83f",children:[e.jsx("thead",{className:"fntracker-0pds05",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"fntracker-qzz0al",children:r("table_date")}),e.jsx("th",{scope:"col",className:"fntracker-qzz0al",children:r("table_price")})]})}),e.jsx("tbody",{children:s==null?void 0:s.item.shopHistory.reverse().map((i,c)=>e.jsxs("tr",{className:"fntracker-4oaq3e",children:[e.jsx("td",{className:"fntracker-p21sfs",children:new Date(i).toLocaleDateString()}),e.jsx("td",{className:"fntracker-p21sfs",children:s==null?void 0:s.item.price})]},c))})]})})]})};const w=({src:s})=>e.jsx("div",{className:"fntracker-cr4vbi",children:e.jsx("div",{className:"fntracker-luov60",children:e.jsx(h,{classDialog:k.zoom,children:e.jsx(d.LazyLoadImage,{alt:"gallery",className:"fntracker-2oio1u",src:f(s,500)})})})}),A=({data:s})=>{const{t:r}=o("locker");return e.jsxs("section",{children:[e.jsx("h1",{className:"fntracker-i96beq",children:r("images_title")}),e.jsx("div",{className:"fntracker-bcx1j8",children:e.jsx("div",{className:"fntracker-lbeaze",children:s.map((i,c)=>e.jsx(w,{src:i.background},c))})})]})},H=()=>{var c,l,n,t;const{id:s}=v(),{data:r,isLoading:i}=y(`https://fortniteapi.io/v2/items/get?id=${s}&lang=${L.language}`,z);return scroll(0,0),i?e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx(m,{}),e.jsx(m,{}),e.jsx(m,{})]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{title:((c=r==null?void 0:r.item)==null?void 0:c.name)||"Locker",desc:(l=r==null?void 0:r.item)==null?void 0:l.description,img:(t=(n=r==null?void 0:r.item)==null?void 0:n.images)==null?void 0:t.background}),e.jsx("div",{children:e.jsx("div",{className:"fntracker-1jd1bu",children:e.jsx(e.Fragment,{children:r!=null&&r.result?e.jsxs(e.Fragment,{children:[e.jsx(D,{data:r}),r.item.displayAssets.length>1&&e.jsx(A,{data:r.item.displayAssets}),(r==null?void 0:r.item.shopHistory)&&e.jsx(I,{data:r})]}):e.jsx(q,{to:"/404"})})})})]})};export{H as default};
