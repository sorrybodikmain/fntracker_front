import{r as t,R as f,d as ie,e as le,u as K,j as r,t as O,l as D,g as ue}from"./index-92121e7b.js";const q=t.forwardRef((e,s)=>{const n={position:"absolute",top:0,left:0,width:"100%",height:"100%",willChange:"clip",userSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"};return f.createElement("div",Object.assign({},e,{style:n,"data-rcs":"clip-item",ref:s}))});q.displayName="ContainerClip";const J=t.forwardRef(({children:e,portrait:s},n)=>{const i={position:"absolute",top:0,width:"100%",height:"100%",pointerEvents:"none"},a={position:"absolute",width:s?"100%":void 0,height:s?void 0:"100%",transform:s?"translateY(-50%)":"translateX(-50%)",pointerEvents:"all"};return f.createElement("div",{style:i,"data-rcs":"handle-container",ref:n},f.createElement("div",{style:a},e))});J.displayName="ThisHandleContainer";const X=({flip:e})=>{const s={width:0,height:0,borderTop:"8px solid transparent",borderRight:"10px solid",borderBottom:"8px solid transparent",transform:e?"rotate(180deg)":void 0};return f.createElement("div",{style:s})},de=({portrait:e,buttonStyle:s,linesStyle:n,style:i,...a})=>{const o={display:"flex",flexDirection:e?"row":"column",placeItems:"center",height:"100%",cursor:e?"ns-resize":"ew-resize",pointerEvents:"none",color:"#fff",...i},u={flexGrow:1,height:e?2:"100%",width:e?"100%":2,backgroundColor:"currentColor",pointerEvents:"auto",boxShadow:"0 0 7px rgba(0,0,0,.35)",...n},m={display:"grid",gridAutoFlow:"column",gap:8,placeContent:"center",flexShrink:0,width:56,height:56,borderRadius:"50%",borderStyle:"solid",borderWidth:2,pointerEvents:"auto",backdropFilter:"blur(7px)",WebkitBackdropFilter:"blur(7px)",boxShadow:"0 0 7px rgba(0,0,0,.35)",transform:e?"rotate(90deg)":void 0,...s};return f.createElement("div",Object.assign({className:"__rcs-handle-root"},a,{style:o}),f.createElement("div",{className:"__rcs-handle-line",style:u}),f.createElement("div",{className:"__rcs-handle-button",style:m},f.createElement(X,null),f.createElement(X,{flip:!0})),f.createElement("div",{className:"__rcs-handle-line",style:u}))},fe=({boxSizing:e="border-box",objectFit:s="cover",objectPosition:n="center",...i}={})=>({display:"block",width:"100%",height:"100%",maxWidth:"100%",boxSizing:e,objectFit:s,objectPosition:n,...i}),me=e=>{const s=t.useRef(e);return t.useEffect(()=>{s.current=e}),s.current},Y=(e,s,n,i)=>{const a=t.useRef();t.useEffect(()=>{a.current=s},[s]),t.useEffect(()=>{if(!(n&&n.addEventListener))return;const o=u=>a.current&&a.current(u);return n.addEventListener(e,o,i),()=>{n.removeEventListener(e,o,i)}},[e,n,i])},he=typeof window<"u"&&window.document&&window.document.createElement?t.useLayoutEffect:t.useEffect,pe=(e,s)=>{const n=t.useRef(),i=t.useCallback(()=>{e.current&&n.current&&n.current.observe(e.current)},[e]);he(()=>(n.current=new ResizeObserver(([a])=>s(a.contentRect)),i(),()=>{n.current&&n.current.disconnect()}),[s,i])},C={passive:!0},F={capture:!0,passive:!1},ge=({handle:e,itemOne:s,itemTwo:n,onlyHandleDraggable:i=!1,onPositionChange:a,portrait:o=!1,position:u=50,boundsPadding:m=0,changePositionOnHover:R=!1,style:d,...x})=>{const h=t.useRef(null),W=t.useRef(null),N=t.useRef(null),p=t.useRef(u),A=me(u),[S,B]=t.useState(!1),k=t.useRef(!1),[U,Q]=t.useState(),[$,Z]=t.useState(!1);t.useEffect(()=>{Q(i?N.current:h.current)},[i]);const g=t.useCallback(function({x:l,y:b,isOffset:j,portrait:E,boundsPadding:V}){const{top:se,left:re,width:M,height:L}=h.current.getBoundingClientRect();if(M===0||L===0)return;const ae=Math.min(Math.max(E?j?b-se-window.pageYOffset:b:j?l-re-window.pageXOffset:l,0),E?L:M),P=E?L/(h.current.offsetHeight||1):M/(h.current.offsetWidth||1),y=ae/P,T=M/P,z=L/P,_=y/(E?z:T)*100,ce=E?y===0||y===z:y===0||y===T,oe=_===p.current&&(p.current===0||p.current===100);if($&&oe&&ce)return;Z(!0),p.current=_;const I=Math.min(Math.max(y,0+V),(E?z:T)-V);W.current.style.clip=E?`rect(auto,auto,${I}px,auto)`:`rect(auto,${I}px,auto,auto)`,N.current.style.transform=E?`translate3d(0,${I}px,0)`:`translate3d(${I}px,0,0)`,a&&a(p.current)},[$,a]);t.useEffect(()=>{const{width:c,height:l}=h.current.getBoundingClientRect(),b=u===A?p.current:u;g({portrait:o,boundsPadding:m,x:c/100*b,y:l/100*b})},[o,u,A,m,g]);const H=t.useCallback(c=>{c.preventDefault(),g({portrait:o,boundsPadding:m,isOffset:!0,x:c instanceof MouseEvent?c.pageX:c.touches[0].pageX,y:c instanceof MouseEvent?c.pageY:c.touches[0].pageY}),B(!0)},[o,m,g]),v=t.useCallback(function(l){g({portrait:o,boundsPadding:m,isOffset:!0,x:l instanceof MouseEvent?l.pageX:l.touches[0].pageX,y:l instanceof MouseEvent?l.pageY:l.touches[0].pageY})},[o,m,g]),w=t.useCallback(()=>{B(!1)},[]),ee=t.useCallback(({width:c,height:l})=>{const{width:b,height:j}=h.current.getBoundingClientRect();g({portrait:o,boundsPadding:m,x:c/100*p.current*b/c,y:l/100*p.current*j/l})},[o,m,g]);t.useEffect(()=>(S&&!k.current&&(window.addEventListener("mousemove",v,C),window.addEventListener("mouseup",w,C),window.addEventListener("touchmove",v,C),window.addEventListener("touchend",w,C),k.current=!0),()=>{k.current&&(window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",w),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",w),k.current=!1)}),[v,w,S]),pe(h,ee),t.useEffect(()=>{const c=h.current,l=()=>{S||w()};return R&&(c.addEventListener("mousemove",v,C),c.addEventListener("mouseleave",l,C)),()=>{c.removeEventListener("mousemove",v),c.removeEventListener("mouseleave",l)}},[R,v,w,S]),Y("mousedown",H,U,F),Y("touchstart",H,U,F);const te=e||f.createElement(de,{portrait:o}),ne={position:"relative",overflow:"hidden",cursor:S?o?"ns-resize":"ew-resize":void 0,userSelect:"none",KhtmlUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",...d};return f.createElement("div",Object.assign({},x,{ref:h,style:ne,"data-rcs":"root"}),n,f.createElement(q,{ref:W},s),f.createElement(J,{portrait:o,ref:N},te))},G=({style:e,...s})=>{const n=fe(e);return f.createElement("img",Object.assign({},s,{style:n,"data-rcs":"image"}))},ve=()=>{const{data:e}=ie("https://fortniteapi.io/v1/maps/list",le),{t:s}=K("compare-maps"),[n,i]=t.useState("23.00"),[a,o]=t.useState("23.30"),[u,m]=t.useState(!1),R=async d=>d.map(x=>new Image().src=O(x,!u));return t.useEffect(()=>{(async()=>R([n,a]))()},[n,a]),r.jsx("section",{id:"map-images",children:r.jsx("div",{className:"fntracker-hikmbp",children:r.jsxs("div",{className:"fntracker-g8sye6",children:[r.jsx("h1",{className:"fntracker-qzap55",children:s("pageTitle")}),r.jsx(ge,{className:"fntracker-avb1y6",itemOne:r.jsx(G,{src:O(n,u),alt:`map-${n}`,loading:"eager"}),itemTwo:r.jsx(G,{src:O(a,u),alt:`map-${a}`,loading:"eager"})}),r.jsxs("div",{className:"fntracker-xx31hg",children:[r.jsx("div",{className:"fntracker-jkffhb borderp-1",children:r.jsx("select",{className:"fntracker-b3d6du",value:n,onChange:d=>{i(d.target.value),D("GameMaps","Change",`Map-Change-To-${d.target.value}`)},children:e==null?void 0:e.maps.map((d,x)=>r.jsx("option",{value:d.patchVersion,children:d.patchVersion},x))})}),r.jsxs("div",{className:"fntracker-ontncl",children:[r.jsx("input",{type:"checkbox",checked:u,onChange:()=>m(!u),className:"fntracker-30z8bm"}),r.jsx("label",{className:"fntracker-ciir0k",children:"POI"})]}),r.jsx("div",{className:"fntracker-vc07kp",children:r.jsx("select",{className:"fntracker-b3d6du",value:a,onChange:d=>{o(d.target.value),D("GameMaps","Change",`Map-Change-To-${d.target.value}`)},children:e==null?void 0:e.maps.map((d,x)=>r.jsx("option",{value:d.patchVersion,children:d.patchVersion},x))})})]})]})})})},xe=()=>{const{t:e}=K("compare-maps");return r.jsxs(r.Fragment,{children:[r.jsx(ue,{title:e("pageTitle"),desc:e("pageDesc"),img:"https://media.fortniteapi.io/images/maps/map-23.30.png?width=800"}),r.jsx(ve,{})]})};export{xe as default};
