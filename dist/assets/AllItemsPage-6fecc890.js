import{r as o,u as h,v as p,l as g,j as e,d as x,i as j,e as S,g as v}from"./index-92121e7b.js";import{S as w,P as E}from"./Preloader-7d67f163.js";import"./useTypedSelector-9a2982f6.js";const b=()=>{const[t,n]=o.useState(!1);return o.useEffect(()=>{const s=()=>{const l=document.documentElement.offsetHeight,r=window.innerHeight,a=document.documentElement.scrollTop,i=l-(r+a)<=30;n(i)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),t},k=({items:t})=>{const{t:n}=h("shop"),[s,l]=o.useState(""),r=p(s,1e3),[a,i]=o.useState(20),[u,d]=o.useState(t.slice(0,a)),f=b();return o.useEffect(()=>{r.length===0&&(i(a+20),d(t.slice(0,a)))},[f]),o.useEffect(()=>{if(r.length>3){g("Shop","Search",`SearchTerm-${r}`);const c=t.filter(m=>m.name.toLowerCase().includes(s.toLowerCase()));c.length!==0&&d(c)}else d(t.slice(0,a))},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"fntracker-1jd1bu",children:[e.jsx("h1",{className:"fntracker-iu8xrp",children:n("items_title")}),e.jsx("div",{className:"fntracker-89klb3",children:e.jsx("form",{children:e.jsx("input",{type:"text",value:s,onChange:c=>l(c.target.value),placeholder:n("filter_placeholder"),className:"fntracker-pev3li"})})}),e.jsx("div",{className:"fntracker-379wd0",children:u.map((c,m)=>e.jsx(w,{data:c},m))})]})})},L=()=>{const{t}=h("shop"),{data:n,isLoading:s}=x(`https://fortniteapi.io/v2/items/list?lang=${j.language}`,S);return s?e.jsx(E,{}):e.jsxs(e.Fragment,{children:[e.jsx(v,{title:t("All Items"),desc:t("banner_title")}),e.jsx(k,{items:n.items})]})};export{L as default};
